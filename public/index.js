(()=>{"use strict";const e=function(){function e(){this.midiAccess=null}return e.prototype.requestAccess=function(){return e=this,t=void 0,r=function(){var e,t;return function(e,t){var n,r,c,o,s={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(c=2&o[0]?r.return:o[0]?r.throw||((c=r.return)&&c.call(r),0):r.next)&&!(c=c.call(r,o[1])).done)return c;switch(r=0,c&&(o=[2&o[0],c.value]),o[0]){case 0:case 1:c=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((c=(c=s.trys).length>0&&c[c.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!c||o[1]>c[0]&&o[1]<c[3])){s.label=o[1];break}if(6===o[0]&&s.label<c[1]){s.label=c[1],c=o;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(o);break}c[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=c=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.requestMIDIAccess()];case 1:return e.midiAccess=n.sent(),console.log("MIDI access gained"),[3,3];case 2:return t=n.sent(),console.error("MIDI access rejected "+t),[3,3];case 3:return[2]}}))},new((n=void 0)||(n=Promise))((function(c,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function i(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?c(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}u((r=r.apply(e,t||[])).next())}));var e,t,n,r},e.prototype.getInputs=function(){if(this.midiAccess)return this.midiAccess.inputs;throw new Error("No MIDI access")},e}();var t=document.getElementById("MIDI_Input_sel"),n=new e;n.requestAccess().then((function(){for(var e in n.getInputs()){var r=document.createElement("option");r.text=e,r.value=e,t.add(r)}}))})();